---
:concurrency: 5
:queues:
  - [critical, 3]
  - [default, 2]
  - [scraping, 1]
  - [low, 1]

# Scheduled jobs (using sidekiq-scheduler)
:scheduler:
  :schedule:
    refresh_prices:
      cron: '0 4 * * *'  # Daily at 4 AM
      class: ScrapePricesJob
      queue: scraping
      description: "Daily price refresh from all suppliers"

    refresh_sessions:
      cron: '0 */6 * * *'  # Every 6 hours
      class: RefreshSessionJob
      queue: default
      description: "Refresh supplier login sessions"

    expire_2fa_requests:
      cron: '*/5 * * * *'  # Every 5 minutes
      class: Expire2faRequestsJob
      queue: low
      description: "Expire old 2FA requests"
